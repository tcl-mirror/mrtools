<html><head>
<title>aweave - aweave command</title>
<style type="text/css"><!--
    HTML {
	background: 	#FFFFFF;
	color: 		black;
    }
    BODY {
	background: 	#FFFFFF;
	color:	 	black;
    }
    DIV.doctools {
	margin-left:	10%;
	margin-right:	10%;
    }
    DIV.doctools H1,DIV.doctools H2 {
	margin-left:	-5%;
    }
    H1, H2, H3, H4 {
	margin-top: 	1em;
	font-family:	sans-serif;
	font-size:	large;
	color:		#005A9C;
	background: 	transparent;
	text-align:		left;
    }
    H1.title {
	text-align: center;
    }
    UL,OL {
	margin-right: 0em;
	margin-top: 3pt;
	margin-bottom: 3pt;
    }
    UL LI {
	list-style: disc;
    }
    OL LI {
	list-style: decimal;
    }
    DT {
	padding-top: 	1ex;
    }
    UL.toc,UL.toc UL, UL.toc UL UL {
	font:		normal 12pt/14pt sans-serif;
	list-style:	none;
    }
    LI.section, LI.subsection {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding: 	0em;
    }
    PRE {
	display: 	block;
	font-family:	monospace;
	white-space:	pre;
	margin:		0%;
	padding-top:	0.5ex;
	padding-bottom:	0.5ex;
	padding-left:	1ex;
	padding-right:	1ex;
	width:		100%;
    }
    PRE.example {
	color: 		black;
	background: 	#f5dcb3;
	border:		1px solid black;
    }
    UL.requirements LI, UL.syntax LI {
	list-style: 	none;
	margin-left: 	0em;
	text-indent:	0em;
	padding:	0em;
    }
    DIV.synopsis {
	color: 		black;
	background: 	#80ffff;
	border:		1px solid black;
	font-family:	serif;
	margin-top: 	1em;
	margin-bottom: 	1em;
    }
    UL.syntax {
	margin-top: 	1em;
	border-top:	1px solid black;
    }
    UL.requirements {
	margin-bottom: 	1em;
	border-bottom:	1px solid black;
    }
--></style>
</head>
<! -- Generated from file 'aweave.man' by tcllib/doctools with format 'html'
   -->
<! -- Copyright &copy; 2013 by G. Andrew Mangogna
   -->
<! -- CVS: $Id$ aweave.1
   -->
<body><div class="doctools">
<h1 class="title">aweave(1) 1.1 aweave &quot;aweave command&quot;</h1>
<div id="name" class="section"><h2><a name="name">Name</a></h2>
<p>aweave - Tools for asciidoc literate programming</p>
</div>
<div id="toc" class="section"><h2><a name="toc">Table Of Contents</a></h2>
<ul class="toc">
<li class="section"><a href="#toc">Table Of Contents</a></li>
<li class="section"><a href="#synopsis">Synopsis</a></li>
<li class="section"><a href="#section1">Description</a></li>
<li class="section"><a href="#section2">Options</a></li>
<li class="section"><a href="#section3">Literate Program Chunks</a></li>
<li class="section"><a href="#copyright">Copyright</a></li>
</ul>
</div>
<div id="synopsis" class="section"><h2><a name="synopsis">Synopsis</a></h2>
<div class="synopsis">
<ul class="syntax">
<li><b class="cmd">aweave</b> <i class="arg"><span class="opt">?-version?</span></i> <i class="arg"><span class="opt">?-output outfile?</span></i> <i class="arg"><span class="opt">?-report?</span></i> <i class="arg"><span class="opt">?-level loggerlevel?</span></i> <i class="arg">file</i></li>
</ul>
</div>
</div>
<div id="section1" class="section"><h2><a name="section1">Description</a></h2>
<p>The <b class="cmd">aweave</b> program is a
<a href="http://www.literateprogramming.com/tools.html">literate programming</a>
tool for
<a href="http://www.methods.co.nz/asciidoc">asciidoc</a> documents.
<b class="cmd">Aweave</b> copies <i class="arg">file</i> to <i class="arg">outfile</i> or the standard output
adding cross reference and indexing directives to the output corresponding
to the definitions and references contained in the
<span class="sectref"><a href="#section3">literate programming chunks</a></span>.
<i class="arg">File</i> is assumed to be asciidoc source containing source blocks that
in turn contain chunk definitions and references.
The generated output contains a section after each source block that contains
a chunk describing which chunks are defined and which are referenced.
Index entries for each chunk definition are also inserted into the output.
In keeping with most language agnostic literate programming tools,
no pretty printing of the source is performed.</p>
</div>
<div id="section2" class="section"><h2><a name="section2">Options</a></h2>
<dl class="definitions">
</dl>
<dl class="options">
<dt><b class="option">-version</b></dt>
<dd><p>Print the <b class="cmd">aweave</b> version and license and exit.</p></dd>
<dt><b class="option">-output</b> <i class="arg">outfile</i></dt>
<dd><p>Write the generated output to <i class="arg">outfile</i> rather than the standard output.</p></dd>
<dt><b class="option">-report</b></dt>
<dd><p>Write a report of the chunk definitions and references on the standard error.</p></dd>
<dt><b class="option">-level</b> <i class="arg">loggerlevel</i></dt>
<dd><p>Set the logging level to <i class="arg">loggerlevel</i>.
Setting the level to <i class="arg">debug</i> give detailed information about the
internal operation.
Setting the level to <i class="arg">info</i> gives details of the chunk parsing for the
document.
Setting the level to <i class="arg">notice</i> gives details of undefined chunks.</p></dd>
</dl>
</div>
<div id="section3" class="section"><h2><a name="section3">Literate Program Chunks</a></h2>
<p>In asciidoc,
the markup for source code is signified by enclosing it with
lines of four or more hyphens.
For example,</p>
<pre class="example">
----
proc myproc {a b} {
    chan puts &quot;$a $b&quot;
}
----
</pre>
<p>So literate programming in asciidoc is somewhat different than
other literate programming environments in that the literate program
source is a valid asciidoc document that can be formatted on its own.
The only addition is that of chunk defintions contained in
otherwise normal source code markup.</p>
<p><b class="cmd">Aweave</b> looks for asciidoc source blocks that contain
<em>chunk</em> definitions.
A <em>chunk</em> is a name enclosed in &quot;&lt;&lt;&quot; and &quot;&gt;&gt;&quot; markers.
There are both <em>chunk definitions</em> and <em>chunk references</em>.
A chunk definition appends an equals sign (=) to the chunk marker.
A chunk reference does not.
For example,</p>
<pre class="example">
----
&lt;&lt;utility procs&gt;&gt;=
proc ut1 {b} {
    return [string toupper $b]
}
&lt;&lt;common procs&gt;&gt;
----
</pre>
<p>In this example,
&lt;&lt;utility procs&gt;&gt;=, is a chunk definition
and
&lt;&lt;common procs&gt;&gt;
is a chunk reference.</p>
<p>There may be multiple definitions of the same chunk.
In that case, the definitions are concatenated together in the order
in which they occur in the file.</p>
</div>
<div id="copyright" class="section"><h2><a name="copyright">Copyright</a></h2>
<p>Copyright &copy; 2013 by G. Andrew Mangogna</p>
</div>
</div></body></html>
